webpackJsonp([1,4],{109:function(t,e,n){"use strict";var r=n(0),i=n(79),o=n(117),a=(n.n(o),n(15));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this._http=t,this.url=a.a.url}return t.prototype.getArtists=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.get(this.url+"artists/"+e,r).map(function(t){return t.json()})},t.prototype.getArtist=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.get(this.url+"artist/"+e,r).map(function(t){return t.json()})},t.prototype.addArtist=function(t,e){var n=JSON.stringify(e),r=new i.c({"Content-Type":"application/json",Authorization:t});return this._http.post(this.url+"artist",n,{headers:r}).map(function(t){return t.json()})},t.prototype.editArtist=function(t,e,n){var r=JSON.stringify(n),o=new i.c({"Content-Type":"application/json",Authorization:t});return this._http.put(this.url+"artist/"+e,r,{headers:o}).map(function(t){return t.json()})},t.prototype.deleteArtist=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.delete(this.url+"artist/"+e,r).map(function(t){return t.json()})},t=s([n.i(r.p)(),l("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object])],t);var e}()},15:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={url:"http://"+window.location.host+"/api/",ip:"127.0.0.1"}},158:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i){this.title=t,this.description=e,this.year=n,this.image=r,this.artist=i}return t}()},159:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this.name=t,this.description=e,this.image=n}return t}()},225:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o){this.number=t,this.name=e,this.duration=n,this.file=r,this.album=i,this.lyric=o}return t}()},226:function(t,e,n){"use strict";var r=n(0),i=n(79),o=n(117),a=(n.n(o),n(15));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this._http=t,this.url=a.a.url}return t.prototype.getSong=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.get(this.url+"song/"+e,r).map(function(t){return t.json()})},t.prototype.getSongs=function(t,e){void 0===e&&(e=null);var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return e?this._http.get(this.url+"songs/"+e,r).map(function(t){return t.json()}):this._http.get(this.url+"songs",r).map(function(t){return t.json()})},t.prototype.addSong=function(t,e){var n=JSON.stringify(e),r=new i.c({"Content-Type":"application/json",Authorization:t});return this._http.post(this.url+"song",n,{headers:r}).map(function(t){return t.json()})},t.prototype.editSong=function(t,e,n){var r=JSON.stringify(n),o=new i.c({"Content-Type":"application/json",Authorization:t});return this._http.put(this.url+"song/"+e,r,{headers:o}).map(function(t){return t.json()})},t.prototype.deleteSong=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.delete(this.url+"song/"+e,r).map(function(t){return t.json()})},t.prototype.getSongLyric=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.get(this.url+"get-song-lyric/"+e,r).map(function(t){return t.json()})},t=s([n.i(r.p)(),l("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object])],t);var e}()},227:function(t,e,n){"use strict";var r=n(0),i=n(79),o=n(117),a=(n.n(o),n(15));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this._http=t,this.url=a.a.url}return t.prototype.makeFileRequest=function(t,e,n,r,i){return new Promise(function(e,o){for(var a=new FormData,s=new XMLHttpRequest,l=0;l<n.length;l++)a.append(i,n[l],n[l].name);s.onreadystatechange=function(){4==s.readyState&&(200==s.status?e(JSON.parse(s.response)):o(s.response))},s.open("POST",t,!0),s.setRequestHeader("Authorization",r),s.send(a)})},t=s([n.i(r.p)(),l("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object])],t);var e}()},25:function(t,e,n){"use strict";var r=n(0),i=n(79),o=n(117),a=(n.n(o),n(15));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this._http=t,this.url=a.a.url}return t.prototype.signup=function(t,e){void 0===e&&(e=null),null!=e&&(t.gethash=e);var n=JSON.stringify(t),r=n,o=new i.c({"Content-Type":"application/json"});return this._http.post(this.url+"login",r,{headers:o}).map(function(t){return t.json()})},t.prototype.register=function(t){var e=JSON.stringify(t),n=new i.c({"Content-Type":"application/json"});return this._http.post(this.url+"register",e,{headers:n}).map(function(t){return t.json()})},t.prototype.updateUser=function(t){var e=JSON.stringify(t),n=new i.c({"Content-Type":"application/json",Authorization:this.getToken()});return this._http.put(this.url+"update-user/"+t._id,e,{headers:n}).map(function(t){return t.json()})},t.prototype.getIdentity=function(){var t=JSON.parse(localStorage.getItem("identity"));return this.identity="undefined"!=t?t:null,this.identity},t.prototype.getToken=function(){var t=localStorage.getItem("token");return this.token="undefined"!=t?t:null,this.token},t=s([n.i(r.p)(),l("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object])],t);var e}()},340:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(15),s=n(109),l=n(159),c=n(82),u=n(158);n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._artistService=n,this._userService=r,this._albumService=i,this.titulo="Crear Album",this.url=a.a.url,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.album=new u.a("","",2017,"",""),this.artist=new l.a("","","")}return t.prototype.ngOnInit=function(){console.log("El album-add.component se cargo correctamente."),this.getArtist()},t.prototype.onSubmit=function(){var t=this;console.log(this.album),this._albumService.addAlbum(this.token,this.album).subscribe(function(e){e.album?(t.alertMessage="El album ha sido creado correctamente.",t.album=e.album,t._router.navigate(["/editar-album",e.album._id])):t.alertMessage="Error en el servidor."},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t.prototype.getArtist=function(){var t=this;this._route.params.forEach(function(e){t.album.artist=e.artist,t._artistService.getArtist(t.token,t.album.artist).subscribe(function(e){e.artist?t.artist=e.artist:t.alertMessage="Error en el servidor."},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})})},t=d([n.i(r._6)({selector:"album-add",template:n(389),providers:[s.a,o.a,c.a]}),f("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(p=void 0!==i.c&&i.c)&&p||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(m=void 0!==o.a&&o.a)&&m||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object])],t);var e,p,g,m,b}()},341:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(15),s=n(82),l=n(226);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._userService=n,this._albumService=r,this._songService=i,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=a.a.url}return t.prototype.ngOnInit=function(){console.log("album-detail.component se cargo correctamente"),this.getAlbum()},t.prototype.getAlbum=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._albumService.getAlbum(t.token,n).subscribe(function(e){e.album?(t.album=e.album,t._songService.getSongs(t.token,e.album._id).subscribe(function(e){e.songs?t.songs=e.songs:t.alertMessage="Este album no tiene canciones."},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})):t._router.navigate(["/"])},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})})},t.prototype.onDeleteConfirm=function(t){this.confirmado=t},t.prototype.onCancelSong=function(){this.confirmado=null},t.prototype.onDeleteSong=function(t){var e=this;this._songService.deleteSong(this.token,t).subscribe(function(t){t.song||alert("Error en el servidor."),e.getAlbum()},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t.prototype.startPlayer=function(t){var e=JSON.stringify(t),n=this.url+"get-file-song/"+t.file,r=this.url+"get-image-album/"+t.album.image;localStorage.setItem("sound_song",e),document.getElementById("mp3-source").setAttribute("src",n);var i=document.getElementById("player");i.load(),i.play();for(var o=1;o<99999;o++)clearInterval(o);document.getElementById("play-song-title").innerHTML=t.name,document.getElementById("play-song-artist").innerHTML=t.album.artist.name,window.innerWidth>768&&document.getElementById("play-image-album").setAttribute("src",r),void 0!=t.lyric?this._songService.getSongLyric(this.token,t.lyric).subscribe(function(t){if(t.letra){var e=t.letra.lrcArray,n=e[0].timestamp.split(".")[0];setInterval(function(){i.paused||e.forEach(function(t,r){var o="",a="",s="";Math.floor(i.currentTime)==t.timestamp.split(".")[0]?(s='<div class="current-lyric"><p class="glyphicon glyphicon-music"></p><p class="oracion">'+t.lyric+'</p><p class="glyphicon glyphicon-music"></p></div>',r>0&&(o="<p id='prev-lyric'>"+e[r-1].lyric+"</p>"),r<e.length-1&&(a="<p>"+e[r+1].lyric+"</p>"),document.getElementById("song-lyric").innerHTML=o+s+a):Math.floor(i.currentTime)<Number(n)&&(s='<div class="current-lyric"><p class="glyphicon glyphicon-music"></p><p class="glyphicon glyphicon-music"></p></div>',a="<p>"+e[0].lyric+"</p>",document.getElementById("song-lyric").innerHTML=o+s+a)})},300)}else alert("No existe la letra de la cancion.")},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}}):document.getElementById("song-lyric").innerHTML='<div class="current-lyric"><p class="glyphicon glyphicon-music"></p><p class="oracion">No hay letra cargada para esta cancion</p><p class="glyphicon glyphicon-music"></p></div>'},t=c([n.i(r._6)({selector:"album-detail",template:n(690),providers:[o.a,s.a,l.a]}),u("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(d=void 0!==i.c&&i.c)&&d||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(g=void 0!==l.a&&l.a)&&g||Object])],t);var e,d,f,p,g}()},342:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(227),a=n(25),s=n(15),l=n(82),c=n(158),u=n(159);n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._userService=n,this._albumService=r,this._uploadService=i,this.titulo="Editar Album",this.url=s.a.url,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.album=new c.a("","",2017,"",""),this.artist=new u.a("","",""),this.is_edit=!0}return t.prototype.ngOnInit=function(){console.log("El album-edit.component se cargo correctamente."),this.getAlbum()},t.prototype.getAlbum=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._albumService.getAlbum(t.token,n).subscribe(function(e){e.album?(t.album=e.album,t.artist=e.album.artist):t._router.navigate(["/"])},function(t){null!=t&&console.log(t)})})},t.prototype.onSubmit=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._albumService.editAlbum(t.token,n,t.album).subscribe(function(e){e.album?(t.alertMessage="¡El album ha sido actualizado!",t.filesToUpload?t._uploadService.makeFileRequest(t.url+"upload-image-album/"+n,[],t.filesToUpload,t.token,"image").then(function(n){t._router.navigate(["/artista",e.album.artist])},function(t){console.log(t)}):t._router.navigate(["/artista",e.album.artist])):t.alertMessage="Error en el servidor."},function(t){null!=t&&console.log(t)})})},t.prototype.fileChangeEvent=function(t){this.filesToUpload=t.target.files},t=d([n.i(r._6)({selector:"album-edit",template:n(389),providers:[a.a,l.a,o.a]}),f("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(p=void 0!==i.c&&i.c)&&p||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object,"function"==typeof(b=void 0!==o.a&&o.a)&&b||Object])],t);var e,p,g,m,b}()},343:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(82),s=n(15);n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,r){this._userService=t,this._albumService=e,this._router=n,this._route=r,this.titulo="Lista de Album",this.url=s.a.url,this.identity=t.getIdentity(),this.token=t.getToken(),this.prev_page=1,this.next_page=1}return t.prototype.ngOnInit=function(){console.log("album-list.component se cargo correctamente."),this.getAlbums()},t.prototype.getAlbums=function(){var t=this;this._albumService.getAlbums(this.token,null).subscribe(function(e){e.albums?t.albums=e.albums:t._router.navigate(["/"])},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t.prototype.onDeleteConfirm=function(t){this.confirmado=t},t.prototype.onCancelAlbum=function(){this.confirmado=null},t.prototype.onDeleteAlbum=function(t){var e=this;this._albumService.deleteAlbum(this.token,t).subscribe(function(t){t.album||alert("Error en el servidor."),e.getAlbums()},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t=l([n.i(r._6)({selector:"album-list",template:n(691),providers:[o.a,a.a]}),c("design:paramtypes",["function"==typeof(e=void 0!==o.a&&o.a)&&e||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(d=void 0!==i.c&&i.c)&&d||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object])],t);var e,u,d,f}()},344:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(109),s=n(15),l=n(159);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,r){this._route=t,this._router=e,this._userService=n,this._artistService=r,this.titulo="Crear nuevo artista",this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=s.a.url,this.artist=new l.a("","","")}return t.prototype.ngOnInit=function(){console.log("artist-add.component.ts cargado")},t.prototype.onSubmit=function(){var t=this;console.log(this.artist),this._artistService.addArtist(this.token,this.artist).subscribe(function(e){e.artist?(t.artist=e.artist,t.alertMessage="¡El artista se ha creado correctamente!",t._router.navigate(["/editar-artista",e.artist._id])):t.alertMessage="Error en el servidor"},function(e){if(null!=e){var n=JSON.parse(e._body);t.alertMessage=n.message}})},t=c([n.i(r._6)({selector:"artist-add",template:n(390),providers:[o.a,a.a]}),u("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(d=void 0!==i.c&&i.c)&&d||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object])],t);var e,d,f,p}()},345:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(109),s=n(15),l=n(82);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._userService=n,this._artistService=r,this._albumService=i,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=s.a.url}return t.prototype.ngOnInit=function(){console.log("artist-detail se cargo correctamente"),this.getArtist()},t.prototype.getArtist=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._artistService.getArtist(t.token,n).subscribe(function(e){e.artist?(t.artist=e.artist,t._albumService.getAlbums(t.token,e.artist._id).subscribe(function(e){e.albums?t.albums=e.albums:t.alertMessage="Este artista no tiene albums."},function(t){null!=t&&(JSON.parse(t._body),console.log(t.message))})):t._router.navigate(["/"])},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})})},t.prototype.onDeleteConfirm=function(t){this.confirmado=t},t.prototype.onCancelAlbum=function(){this.confirmado=null},t.prototype.onDeleteAlbum=function(t){var e=this;this._albumService.deleteAlbum(this.token,t).subscribe(function(t){t.album||alert("Error en el servidor."),e.getArtist()},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t=c([n.i(r._6)({selector:"artist-detail",template:n(692),providers:[o.a,a.a,l.a]}),u("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(d=void 0!==i.c&&i.c)&&d||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(g=void 0!==l.a&&l.a)&&g||Object])],t);var e,d,f,p,g}()},346:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(227),a=n(25),s=n(109),l=n(15),c=n(159);n.d(e,"a",function(){return f});var u=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._userService=n,this._artistService=r,this._uploadService=i,this.titulo="Editar artista",this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=l.a.url,this.artist=new c.a("","",""),this.is_edit=!0}return t.prototype.ngOnInit=function(){console.log("artist-edit.component.ts cargado"),this.getArtist()},t.prototype.getArtist=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._artistService.getArtist(t.token,n).subscribe(function(e){e.artist?t.artist=e.artist:t._router.navigate(["/"])},function(t){null!=t&&(JSON.parse(t._body),console.log(t))})})},t.prototype.onSubmit=function(){var t=this;console.log(this.artist),this._route.params.forEach(function(e){var n=e.id;t._artistService.editArtist(t.token,n,t.artist).subscribe(function(e){e.artist?(t.alertMessage="¡El artista se ha actualizado correctamente!",t.filesToUpload?t._uploadService.makeFileRequest(t.url+"upload-image-artist/"+n,[],t.filesToUpload,t.token,"image").then(function(n){t._router.navigate(["/artista",e.artist._id])},function(t){console.log(t)}):t._router.navigate(["/artista",e.artist._id])):t.alertMessage="Error en el servidor"},function(e){if(null!=e){var n=JSON.parse(e._body);t.alertMessage=n.message}})})},t.prototype.fileChangeEvent=function(t){this.filesToUpload=t.target.files},t=u([n.i(r._6)({selector:"artist-edit",template:n(390),providers:[a.a,s.a,o.a]}),d("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(f=void 0!==i.c&&i.c)&&f||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(m=void 0!==o.a&&o.a)&&m||Object])],t);var e,f,p,g,m}()},347:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(109),s=n(15);n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,r){this._route=t,this._router=e,this._userService=n,this._artistService=r,this.titulo="Artistas",this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url=s.a.url,this.next_page=1,this.prev_page=1}return t.prototype.ngOnInit=function(){console.log("artist-list.component.ts cargado"),this.getArtists()},t.prototype.getArtists=function(){var t=this;this._route.params.forEach(function(e){var n=+e.page;n?(t.next_page=n+1,t.prev_page=n-1,0==t.prev_page&&(t.prev_page=1),t._artistService.getArtists(t.token,n).subscribe(function(e){e.artists?t.artists=e.artists:t._router.navigate(["/"])},function(t){null!=t&&(JSON.parse(t._body),console.log(t))})):n=1})},t.prototype.onDeleteConfirm=function(t){this.confirmado=t},t.prototype.onCancelArtist=function(){this.confirmado=null},t.prototype.onDeleteArtist=function(t){var e=this;this._artistService.deleteArtist(this.token,t).subscribe(function(t){t.artist||alert("Error en el servidor."),e.getArtists()},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t=l([n.i(r._6)({selector:"artist-list",template:n(693),providers:[o.a,a.a]}),c("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(u=void 0!==i.c&&i.c)&&u||Object,"function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object])],t);var e,u,d,f}()},348:function(t,e,n){"use strict";var r=n(0),i=n(21);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this._route=t,this._router=e,this.titulo="Artistas"}return t.prototype.ngOnInit=function(){console.log("home.component.ts cargado")},t=o([n.i(r._6)({selector:"home",template:n(694)}),a("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(s=void 0!==i.c&&i.c)&&s||Object])],t);var e,s}()},349:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(15),s=n(225),l=n(226),c=n(158),u=n(82);n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._userService=n,this._songService=r,this._albumService=i,this.titulo="Crear Cancion",this.url=a.a.url,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.song=new s.a(1,"","","","",""),this.album=new c.a("","",0,"","")}return t.prototype.ngOnInit=function(){console.log("El song-add.component se cargo correctamente."),this.getAlbum()},t.prototype.onSubmit=function(){var t=this;this._songService.addSong(this.token,this.song).subscribe(function(e){e.song?(t.alertMessage="La cancion ha sido creada y añadida al album "+t.album.title+".",t.song=e.song,t._router.navigate(["/editar-cancion",e.song._id])):t.alertMessage="Error en el servidor."},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})},t.prototype.getAlbum=function(){var t=this;this._route.params.forEach(function(e){t.song.album=e.album,t._albumService.getAlbum(t.token,t.song.album).subscribe(function(e){e.album?t.album=e.album:alert("Error en el servidor.")},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})})},t=d([n.i(r._6)({selector:"song-add",template:n(391),providers:[o.a,l.a,u.a]}),f("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(p=void 0!==i.c&&i.c)&&p||Object,"function"==typeof(g=void 0!==o.a&&o.a)&&g||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object,"function"==typeof(b=void 0!==u.a&&u.a)&&b||Object])],t);var e,p,g,m,b}()},350:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(25),a=n(15),s=n(225),l=n(226),c=n(158),u=n(227);n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this._route=t,this._router=e,this._userService=n,this._songService=r,this._uploadService=i,this.titulo="Editar Cancion",this.url=a.a.url,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.song=new s.a(1,"","","","",""),this.album=new c.a("","",0,"",""),this.is_edit=!0}return t.prototype.ngOnInit=function(){console.log("El song-edit.component se cargo correctamente."),this.getSong()},t.prototype.getSong=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._songService.getSong(t.token,n).subscribe(function(e){e.song?(t.song=e.song,t.album=e.song.album,void 0!=t.song.lyric&&t._songService.getSongLyric(t.token,t.song.lyric).subscribe(function(t){if(t.letra){var e=t.letra.lrcArray,n="";e.forEach(function(t,e){n+='<p class="letraSong">'+t.lyric+"</p>"}),document.getElementById("lyric-song").innerHTML=n}else alert("No existe la letra de la cancion.")},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})):t._router.navigate(["/"])},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})})},t.prototype.onSubmit=function(){var t=this;this._route.params.forEach(function(e){var n=e.id;t._songService.editSong(t.token,n,t.song).subscribe(function(e){if(e.song){t.alertMessage="La cancion ha sido actualizada para el album "+t.album.title+".";var r=!1;t.filesToUpload&&t._uploadService.makeFileRequest(t.url+"upload-file-song/"+n,[],t.filesToUpload,t.token,"file").then(function(t){r=!0},function(t){alert("Problemas con el servidor en subir el archivo audio."),console.log(t)}),t.lyricToUpload&&t._uploadService.makeFileRequest(t.url+"upload-lyric-song/"+n,[],t.lyricToUpload,t.token,"lyric").then(function(t){r=!0},function(t){alert("Problemas con el servidor en subir el archivo de la letra."),console.log(t)}),t._router.navigate(["/album",e.song.album])}else t.alertMessage="Error en el servidor."},function(t){if(null!=t){var e=JSON.parse(t._body);console.log(e.message)}})})},t.prototype.fileChangeEvent=function(t){this.filesToUpload=t.target.files},t.prototype.lyricChangeEvent=function(t){this.lyricToUpload=t.target.files},t=d([n.i(r._6)({selector:"song-edit",template:n(391),providers:[o.a,l.a,u.a]}),f("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(p=void 0!==i.c&&i.c)&&p||Object,"function"==typeof(g=void 0!==o.a&&o.a)&&g||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object,"function"==typeof(b=void 0!==u.a&&u.a)&&b||Object])],t);var e,p,g,m,b}()},351:function(t,e,n){"use strict";var r=n(0),i=n(25),o=n(15);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this._userService=t,this.titulo="Actualizar mis datos",this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.user=this.identity,this.url=o.a.url}return t.prototype.ngOnInit=function(){console.log("user-edit.component.ts cargado")},t.prototype.onSubmit=function(){var t=this;this._userService.updateUser(this.user).subscribe(function(e){e.user?(localStorage.setItem("identity",JSON.stringify(t.user)),document.getElementById("identity_name").innerHTML=t.user.name,t.filesToUpload&&t.makeFileRequest(t.url+"/upload-image-user/"+t.user._id,[],t.filesToUpload).then(function(e){t.user.image=e.image,localStorage.setItem("identity",JSON.stringify(t.user));var n=t.url+"get-image-user/"+t.user.image;document.getElementById("image-logged").setAttribute("src",n)}),t.alertMessage="Datos actualizados correctamente."):t.alertMessage="El usuario no se ha actualizado."},function(e){if(null!=e){var n=JSON.parse(e._body);t.alertMessage=n.message,console.log(n.message)}})},t.prototype.fileChangeEvent=function(t){this.filesToUpload=t.target.files},t.prototype.makeFileRequest=function(t,e,n){var r=this.token;return new Promise(function(e,i){for(var o=new FormData,a=new XMLHttpRequest,s=0;s<n.length;s++)o.append("image",n[s],n[s].name);a.onreadystatechange=function(){4==a.readyState&&(200==a.status?e(JSON.parse(a.response)):i(a.response))},a.open("POST",t,!0),a.setRequestHeader("Authorization",r),a.send(o)})},t=a([n.i(r._6)({selector:"user-edit",template:n(695),providers:[i.a]}),s("design:paramtypes",["function"==typeof(e=void 0!==i.a&&i.a)&&e||Object])],t);var e}()},389:function(t,e){t.exports='<div class="col-lg-6">\r\n  <h1>{{titulo}}</h1>\r\n  <p>para el artista {{artist.name}}.</p>\r\n  <div *ngIf="alertMessage">\r\n    <div class="alert alert-info">\r\n      {{alertMessage}}\r\n    </div>\r\n  </div>\r\n\r\n  <form #formAlbum="ngForm" (ngSubmit)="onSubmit()">\r\n    <p>\r\n      <label>Titulo</label>\r\n      <input type="text" #title="ngModel" name="title" [(ngModel)]="album.title" required class="form-control" />\r\n      <span *ngIf="!title.valid && title.touched">\r\n        El nombre es obligatorio.\r\n      </span>\r\n    </p>\r\n    <p>\r\n      <textarea #description="ngModel" name="description" [(ngModel)]="album.description" required class="form-control"></textarea>\r\n      <span *ngIf="!description.valid && description.touched">\r\n        La descripcion es obligatoria.\r\n      </span>\r\n    </p>\r\n    <p>\r\n      <label>Año</label>\r\n      <input type="text" #year="ngModel" name="year" [(ngModel)]="album.year" required class="form-control" />\r\n      <span *ngIf="!year.valid && year.touched">\r\n        El año es obligatorio.\r\n      </span>\r\n    </p>\r\n    <div *ngIf="is_edit">\r\n      <div class="album_image_for_edit" *ngIf="album.image && album.image != \'null\'">\r\n        <img src="{{url + \'get-image-album/\' + album.image }}" />\r\n      </div>\r\n      <p>\r\n        <label>Sube la imagen del album</label>\r\n        <input type="file" placeholder="Subir imagen..." (change)="fileChangeEvent($event)" />\r\n      </p>\r\n    </div>\r\n    <input class="btn btn-success" type="submit" value="{{titulo}}" [disabled]="!formAlbum.form.valid" />\r\n\r\n  </form>\r\n</div>\r\n<div class="col-lg-6 col-lg-offset" *ngIf="!identity || identity.role != \'ROLE_ADMIN\'">\r\n<h1>Acceso Denegado</h1>\r\n<p>¡No tienes los permisos necesarios para visualizar este contenido!</p>\r\n</div>\r\n'},390:function(t,e){t.exports='<div class="col-lg-6 col-lg-offset" *ngIf="identity && identity.role == \'ROLE_ADMIN\'">\r\n<h1>{{titulo}}</h1>\r\n<div *ngIf="alertMessage">\r\n  <div class="alert alert-success" role="alert" data-auto-dismiss="2000">\r\n    {{alertMessage}}\r\n  </div>\r\n</div>\r\n<form #formArtist="ngForm" (ngSubmit)="onSubmit()">\r\n    <p>\r\n        <label>Nombre</label>\r\n        <input type="text" #name="ngModel" name="name" [(ngModel)]="artist.name" class="form-control" required />\r\n        <span *ngIf="!name.valid && name.touched">\r\n          El nombre es obligatorio!\r\n        </span>\r\n    </p>\r\n    <p>\r\n        <label>Descripcion</label>\r\n        <textarea #description="ngModel" name="description" [(ngModel)]="artist.description" class="form-control" required></textarea>\r\n        <span *ngIf="!description.valid && description.touched">\r\n          La descripcion es obligatorio!\r\n        </span>\r\n    </p>\r\n    <div *ngIf="is_edit">\r\n      <div class="artist_image_for_edit" *ngIf="artist.image && artist.image != \'null\'">\r\n          <img src="{{ url + \'get-image-artist/\' + artist.image }}" />\r\n      </div>\r\n      <p>\r\n        <label>Sube la imagen del artista</label>\r\n        <input type="file" placeholder="Subir imagen" (change)="fileChangeEvent($event)" />\r\n      </p>\r\n    </div>\r\n    <input class="btn btn-success" type="submit" value="{{titulo}}" [disabled]="!formArtist.form.valid" />\r\n</form>\r\n</div>\r\n<div class="col-lg-6 col-lg-offset" *ngIf="!identity || identity.role != \'ROLE_ADMIN\'">\r\n<h1>Acceso Denegado</h1>\r\n<p>¡No tienes los permisos necesarios para visualizar este contenido!</p>\r\n</div>\r\n'},391:function(t,e){t.exports='<div class="col-lg-6" *ngIf="identity && identity.role == \'ROLE_ADMIN\'">\r\n  <h1>{{titulo}}</h1>\r\n  <p>para el album {{album.title}}.</p>\r\n  <div *ngIf="alertMessage">\r\n    <div class="alert alert-info">\r\n      {{alertMessage}}\r\n    </div>\r\n  </div>\r\n  <form #formSong="ngForm" (ngSubmit)="onSubmit()">\r\n    <p>\r\n      <label>Número</label>\r\n      <input type="text" name="number" #number="ngModel" [(ngModel)]="song.number" class="form-control" required />\r\n      <span *ngIf="!number.valid && number.touched">\r\n        La numeracion es obligatorio.\r\n      </span>\r\n    </p>\r\n    <p>\r\n      <label>Titulo</label>\r\n      <input type="text" name="name" #name="ngModel" [(ngModel)]="song.name" class="form-control" required />\r\n      <span *ngIf="!name.valid && name.touched">\r\n        El titulo es obligatorio.\r\n      </span>\r\n    </p>\r\n    <p>\r\n      <label>Duracion</label>\r\n      <input type="text" name="duration" #duration="ngModel" [(ngModel)]="song.duration" class="form-control" required />\r\n      <span *ngIf="!duration.valid && duration.touched">\r\n        El duracion es obligatorio.\r\n      </span>\r\n    </p>\r\n    <div *ngIf="is_edit">\r\n      <div class="song_file_for_edit" *ngIf="song.file && song.file != \'null\'">\r\n        <audio controls>\r\n          <source src="{{url+ \'get-file-song/\' + song.file}}" type="audio/mpeg" />\r\n            El navegador web no soporta la reproduccion de audio.\r\n        </audio>\r\n      </div>\r\n      <p>\r\n        <label>Sube el fichero de audio</label>\r\n        <input type="file" placeholder="subir fichero..." (change)="fileChangeEvent($event)" />\r\n      </p>\r\n      <p>\r\n        <label>Sube el archivo de la letra</label>\r\n        <input type="file" placeholder="subir letra..." (change)="lyricChangeEvent($event)" />\r\n      </p>\r\n    </div>\r\n    <input type="submit" value="{{titulo}}" [disabled]="!formSong.form.valid" class="btn btn-success" />\r\n  </form>\r\n</div>\r\n<div class="col-lg-5" *ngIf="identity && identity.role == \'ROLE_ADMIN\'">\r\n  <div class="song_lyric_for_edit" *ngIf="is_edit">\r\n    <label>Letra:</label>\r\n    <div id="lyric-song" *ngIf="song.lyric && song.lyric != \'null\'">\r\n    </div>\r\n    <p *ngIf="!song.lyric">Cancion sin letra, cargue el archivo con extension .lrc</p>\r\n  </div>\r\n</div>\r\n<div class="col-lg-6 col-lg-offset" *ngIf="!identity || identity.role != \'ROLE_ADMIN\'">\r\n<h1>Acceso Denegado</h1>\r\n<p>¡No tienes los permisos necesarios para visualizar este contenido!</p>\r\n</div>\r\n'},413:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=413},414:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(501),i=n(0),o=n(536),a=n(532);o.a.production&&n.i(i.a)(),n.i(r.a)().bootstrapModule(a.a)},531:function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(535),a=n(25),s=n(15);n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this._route=t,this._router=e,this._userService=n,this.title="Musify",this.user=new o.a("","","","","","ROLE_USER",""),this.user_register=new o.a("","","","","","ROLE_USER",""),this.url=s.a.url}return t.prototype.ngOnInit=function(){this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),console.log("URL: "+this.url)},t.prototype.onSubmit=function(){var t=this;this._userService.signup(this.user).subscribe(function(e){var n=e.user;t.identity=n,t.identity._id?(localStorage.setItem("identity",JSON.stringify(n)),t._userService.signup(t.user,"true").subscribe(function(e){var n=e.token;t.token=n,t.token.length<=0?t.errorMessage="El token no se ha generado.":(localStorage.setItem("token",n),t.user=new o.a("","","","","","ROLE_USER",""))},function(e){if(null!=e){var n=JSON.parse(e._body);t.errorMessage=n.message}})):t.errorMessage="El usuario no esta correctamente identificado."},function(e){if(null!=e){var n=JSON.parse(e._body);t.errorMessage=n.message}})},t.prototype.logout=function(){localStorage.removeItem("identity"),localStorage.removeItem("token"),localStorage.clear(),this.identity=null,this.token=null,this._router.navigate(["/"])},t.prototype.onSubmitRegister=function(){var t=this;this._userService.register(this.user_register).subscribe(function(e){var n=e.user;t.user_register=n,n._id?(t.alertRegister="El registro se ha realizado correctamente, identificate con "+t.user_register.email,t.user_register=new o.a("","","","","","ROLE_USER","")):t.alertRegister="Error al registrarse"},function(e){if(null!=e){var n=JSON.parse(e._body);t.alertRegister=n.message}})},t=l([n.i(r._6)({selector:"app-root",template:n(689),providers:[a.a]}),c("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object,"function"==typeof(u=void 0!==i.c&&i.c)&&u||Object,"function"==typeof(d=void 0!==a.a&&a.a)&&d||Object])],t);var e,u,d}()},532:function(t,e,n){"use strict";var r=n(155),i=n(0),o=n(492),a=n(79),s=n(533),l=n(531),c=n(348),u=n(351),d=n(347),f=n(344),p=n(346),g=n(345),m=n(340),b=n(342),h=n(341),v=n(343),y=n(349),_=n(350),S=n(534);n.d(e,"a",function(){return R});var O=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},j=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},R=function(){function t(){}return t=O([n.i(i.b)({declarations:[l.a,c.a,u.a,d.a,f.a,p.a,g.a,m.a,b.a,h.a,v.a,y.a,_.a,S.a],imports:[r.a,o.a,a.a,s.a],providers:[s.b],bootstrap:[l.a]}),j("design:paramtypes",[])],t)}()},533:function(t,e,n){"use strict";var r=n(21),i=n(348),o=n(351),a=n(347),s=n(344),l=n(346),c=n(345),u=n(340),d=n(342),f=n(341),p=n(343),g=n(349),m=n(350);n.d(e,"b",function(){return h}),n.d(e,"a",function(){return v});var b=[{path:"",component:i.a},{path:"mis-datos",component:o.a},{path:"artistas/:page",component:a.a},{path:"editar-artista/:id",component:l.a},{path:"artista/:id",component:c.a},{path:"crear-artista",component:s.a},{path:"crear-album/:artist",component:u.a},{path:"editar-album/:id",component:d.a},{path:"album/:id",component:f.a},{path:"albums",component:p.a},{path:"crear-cancion/:album",component:g.a},{path:"editar-cancion/:id",component:m.a},{path:"**",component:i.a}],h=[],v=r.a.forRoot(b)},534:function(t,e,n){"use strict";var r=n(0),i=n(225),o=n(15);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.url=o.a.url,this.song=new i.a(1,"","","","",""),this.ancho=window.innerWidth}return t.prototype.ngOnInit=function(){console.log("playercomponent cargado");var t=JSON.parse(localStorage.getItem("sound_song"));this.song=t||new i.a(1,"","","","","")},t=a([n.i(r._6)({selector:"reproductor",template:'\n  <div class="player" *ngIf="ancho >= 768">\n    <div class="audio-file">\n      <div class="album-image">\n        <span *ngIf="song.album">\n          <img id="play-image-album" src="{{url + \'get-image-album/\' + song.album.image}}" />\n        </span>\n        <span *ngIf="!song.album">\n          <img id="play-image-album" src="assets/images/default.jpg" />\n        </span>\n      </div>\n        <span id="play-song-artist">\n          <span *ngIf="song.album.artist">\n            {{song.album.artist.name}}\n          </span>\n        </span>\n        <br/>\n          <span id="play-song-title">\n            {{song.name}}\n          </span>\n          <br/>\n    </div>\n    <div class="letra-cancion">\n      <p id="song-lyric" >  </p>\n    </div>\n    <audio controls id="player" controlsList="nodownload">\n      <source id="mp3-source" src="{{url + \'get-file-song/\' + song.file}}" type="audio/mpeg" />\n      Tu navegador no es compatible con HTML5\n    </audio>\n  </div>\n    <div class="playerMobil" id="playerMobil" *ngIf="ancho < 768">\n      <div class="audio-file">\n        <span id="play-song-artist">\n          <span *ngIf="song.album.artist">\n            {{song.album.artist.name}}\n          </span>\n        </span>\n          <br/>\n          <span id="play-song-title">\n            {{song.name}}\n          </span>\n          <br/>\n        </div>\n        <div class="letra-cancion col-xs-10">\n          <p id="song-lyric" >  </p>\n        </div>\n        <audio controls id="player" controlsList="nodownload">\n          <source id="mp3-source" src="{{url + \'get-file-song/\' + song.file}}" type="audio/mpeg" />\n          Tu navegador no es compatible con HTML5\n        </audio>\n        <span class="glyphicon glyphicon glyphicon-align-center btn btn-info" id="btn-letra" onclick="document.getElementById(\'playerMobil\').classList.toggle(\'closed\');"></span>\n      </div>\n'}),s("design:paramtypes",[])],t)}()},535:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o,a){this._id=t,this.name=e,this.surname=n,this.email=r,this.password=i,this.role=o,this.image=a}return t}()},536:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},689:function(t,e){t.exports='<div class="row" *ngIf="identity">\n  <div class=\'navigation col-xs-3 col-sm-2 col-md-1 col-lg-1\' id="menu">\n      <h4 class="head-title">\n        <a [routerLink]="[\'/\']">\n          <span class="glyphicon glyphicon-music" aria-hidden="true"></span>\n          {{title}}\n        </a>\n      </h4>\n      <nav id="navigation">\n        <a href="#" [routerLinkActive]="[\'actived\']">\n          <span class="glyphicon glyphicon-search" aria-hidden="true"></span>\n          Buscar\n        </a>\n        <a [routerLink]="[\'/artistas\', 1]" [routerLinkActive]="[\'actived\']">\n          <span class="glyphicon glyphicon-star" aria-hidden="true"></span>\n          Artista\n        </a>\n        <a [routerLink]="[\'/albums\']" [routerLinkActive]="[\'actived\']">\n          <span class="glyphicon glyphicon-book" aria-hidden="true"></span>\n          Albums\n        </a>\n      </nav>\n\n      <nav id="user_logged">\n        <div class="user-image" >\n            <img id="image-logged" src="{{url+\'get-image-user/\'+identity.image}}" />\n        </div>\n        <span id="identity_name">\n          {{identity.name}}\n        </span>\n        <span>\n          <a [routerLink]="[\'/mis-datos\']" [routerLinkActive]="[\'actived\']">\n            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>\n            Mis datos\n          </a>\n          <a (click)="logout()" class="btn-logout">\n            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>\n            Salir\n          </a>\n        </span>\n      </nav>\n  </div>\n\n  <div *ngIf="identity" class=\'col-xs-9 col-xs-offset-3 col-sm-10 col-sm-offset-2 col-md-11 col-md-offset-1 col-lg-11 col-lg-offset-1\' id="contenedor">\n      <router-outlet></router-outlet>\n      <div class="clearfix"></div>\n      <reproductor class="reproductor" *ngIf="identity"></reproductor>\n  </div>\n</div>\n\n<div class="row col-xs-12 col-md-12 col-lg-12" *ngIf="!identity">\n  <div class="col-xs-12 col-md-12 col-lg-6">\n    <h1>Identificate</h1>\n    <div *ngIf="errorMessage">\n      <div class="alert alert-info">\n        <strong>Error</strong> {{errorMessage}}\n      </div>\n    </div>\n    <form #loginForm="ngForm" (ngSubmit)="onSubmit()" class="col-md-7">\n      <p>\n        <label>Correo electronico: </label>\n        <input type="email" #email="ngModel" name="email" [(ngModel)]="user.email" class="form-control" required />\n        <span *ngIf="!email.valid && email.touched">\n          El email es obligatorio!\n        </span>\n      </p>\n      <p>\n        <label>Contraseña: </label>\n        <input type="password" #password="ngModel" name="password" [(ngModel)]="user.password" class="form-control" required />\n        <span *ngIf="!password.valid && password.touched">\n          La contraseña es obligatoria!\n        </span>\n      </p>\n      <input type="submit" value="Entrar" class="btn btn-primary" />\n    </form>\n  </div>\n  <div class="col-xs-12 col-md-12 col-lg-6">\n    <h1>Registrate</h1>\n    <div *ngIf="alertRegister">\n      <div class="alert alert-info">\n        {{alertRegister}}\n      </div>\n    </div>\n    <form #registerForm="ngForm" (ngSubmit)="onSubmitRegister()" class="col-md-7">\n      <p>\n        <label>Nombre: </label>\n        <input type="text" #name="ngModel" name="name" [(ngModel)]="user_register.name" class="form-control" required />\n        <span *ngIf="!name.valid && name.touched">\n          El nombre es obligatorio!\n        </span>\n      </p>\n      <p>\n        <label>Apellido: </label>\n        <input type="text" #surname="ngModel" name="surname" [(ngModel)]="user_register.surname" class="form-control" required />\n        <span *ngIf="!surname.valid && surname.touched">\n          Los apellidos son obligatorios!\n        </span>\n      </p>\n      <p>\n      <label>Correo electronico: </label>\n      <input type="email" #email="ngModel" name="email" [(ngModel)]="user_register.email" class="form-control" required />\n      <span *ngIf="!email.valid && email.touched">\n        El email es obligatorio!\n      </span>\n    </p>\n    <p>\n      <label>Contraseña: </label>\n      <input type="password" #password="ngModel" name="password" [(ngModel)]="user_register.password" class="form-control" required />\n      <span *ngIf="!password.valid && password.touched">\n        La contraseña es obligatoria!\n      </span>\n    </p>\n      <input type="submit" value="Registrarse" class="btn btn-primary" />\n    </form>\n  </div>\n</div>\n'},690:function(t,e){t.exports='<div *ngIf="album" class="album-box">\r\n  <div id="album-head-card">\r\n    <div class="image">\r\n      <img src="{{url+\'get-image-album/\'+album.image}}" *ngIf="album.image && album.image != \'null\'" />\r\n    </div>\r\n    <div class="data">\r\n      <h1>{{album.title}}</h1>\r\n      <p>Artista: {{album.artist.name}}</p>\r\n      <p>Año: {{album.year}}</p>\r\n      <p>Descripcion: {{album.description}}</p>\r\n\r\n      <a [routerLink]="[\'/crear-cancion\', album._id]" class="btn btn-default" *ngIf="identity.role == \'ROLE_ADMIN\'">\r\n        Añadir Cancion\r\n      </a>\r\n    </div>\r\n  </div>\r\n  <div class="clearfix"></div>\r\n  <div id="gallery-songs" *ngIf="songs">\r\n    <ul id="song-list">\r\n      <li *ngFor="let song of songs" class="song-item">\r\n        <div class="title">\r\n          <a class="btn btn-success">\r\n            <span class="glyphicon glyphicon-play" (click)="startPlayer(song)" aria-hidden="true"></span>\r\n          </a>\r\n            {{song.number + \'. \' + song.name + \' - \' + song.duration}}\r\n            <div class="buttons" *ngIf="identity && identity.role == \'ROLE_ADMIN\'">\r\n              <a [routerLink]="[\'/editar-cancion\', song._id]" class="btn btn-warning">\r\n                Editar\r\n              </a>\r\n              <a (click)="onDeleteConfirm(song._id)" class="btn btn-danger">\r\n                Borrar\r\n              </a>\r\n            </div>\r\n            <div class="seguro seguro-song" *ngIf="confirmado == song._id">\r\n              <a (click)="onDeleteSong(song._id)" class="btn btn-danger">\r\n                Eliminar\r\n              </a>\r\n              <a (click)="onCancelSong()" class="btn btn-primary">\r\n                Cancelar\r\n              </a>\r\n            </div>\r\n              <div class="clearfix"></div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'},691:function(t,e){t.exports='<div  *ngIf=\'identity\'>\r\n  <h1>{{titulo}}</h1>\r\n  <div id="gallery-albums" *ngIf=\'albums\'>\r\n    <ul class="album-list">\r\n      <li *ngFor=\'let album of albums\' class="col-lg-5 album-item">\r\n        <div class="album-image">\r\n          <img [routerLink]="[\'/album\', album._id]" src="{{url + \'get-image-album/\' + album.image}}" *ngIf=\'album.image && album.image != "null"\' />\r\n        </div>\r\n        <div class="album-name">\r\n          <p>\r\n            <a [routerLink]="[\'/album\', album._id]">\r\n                {{album.title}}\r\n            </a>\r\n          </p>\r\n          <p>\r\n            <a [routerLink]="[\'/artista\', album.artist._id]">\r\n                {{album.artist.name}}\r\n            </a>\r\n          </p>\r\n          <div class="clearfix"> </div>\r\n        <div class="buttons" *ngIf="identity.role == \'ROLE_ADMIN\'">\r\n          <a [routerLink]="[\'/editar-album\', album._id]" class="btn btn-sm btn-warning">\r\n            Editar\r\n          </a>\r\n          <a (click)="onDeleteConfirm(album._id)" class="btn btn-sm btn-danger">\r\n            Borrar\r\n          </a>\r\n          </div>\r\n          <div class="seguro" *ngIf="confirmado == album._id">\r\n            <a (click)="onDeleteAlbum(album._id)" class="btn btn-sm btn-danger">\r\n              Eliminar\r\n            </a>\r\n            <a (click)="onCancelAlbum()" class="btn btn-sm btn-primary">\r\n              Cancelar\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <div class="clearfix"></div>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'},692:function(t,e){t.exports='<div *ngIf="artist" class="artist-box">\r\n  <div id="artist-head-card">\r\n    <div class="image">\r\n      <img src="{{url + \'get-image-artist/\' + artist.image }}" *ngIf="artist.image && artist.image != \'null\'" />\r\n    </div>\r\n    <div class="data">\r\n      <h1>{{artist.name}}</h1>\r\n      <p class="description"> {{artist.description}}</p>\r\n      <a [routerLink]="[\'/crear-album\', artist._id]" *ngIf="identity.role == \'ROLE_ADMIN\'" class="btn btn-default">\r\n        Añadir albums\r\n      </a>\r\n    </div>\r\n  </div>\r\n  <div class="clearfix"> </div>\r\n  <div id="gallery-albums" *ngIf="albums">\r\n    \x3c!-- LISTAR LOS ALBUMS --\x3e\r\n    <ul class="album-list">\r\n      <li *ngFor="let album of albums" class="col-lg-4 album-item">\r\n        <div class="album-image">\r\n          <img [routerLink]="[\'/album\', album._id]" src="{{url + \'get-image-album/\' + album.image }}" *ngIf="album.image && album.image != \'null\'" />\r\n        </div>\r\n        <div class="album-name">\r\n          <p>\r\n            <a [routerLink]="[\'/album\', album._id]">\r\n                {{album.title}}\r\n            </a>\r\n          </p>\r\n          <p>\r\n            <a [routerLink]="[\'/artista\', album.artist._id]">\r\n                {{album.artist.name}}\r\n            </a>\r\n          </p>\r\n          <div class="clearfix"> </div>\r\n        <div class="buttons" *ngIf="identity.role == \'ROLE_ADMIN\'">\r\n          <a [routerLink]="[\'/editar-album\', album._id]" class="btn btn-sm btn-warning">\r\n            Editar\r\n          </a>\r\n          <a (click)="onDeleteConfirm(album._id)" class="btn btn-sm btn-danger">\r\n            Borrar\r\n          </a>\r\n          </div>\r\n          <div class="seguro" *ngIf="confirmado == album._id">\r\n            <a (click)="onDeleteAlbum(album._id)" class="btn btn-sm btn-danger">\r\n              Eliminar\r\n            </a>\r\n            <a (click)="onCancelAlbum()" class="btn btn-sm btn-primary">\r\n              Cancelar\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <div class="clearfix"> </div>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'},693:function(t,e){t.exports='<div class="head-page" *ngIf="identity">\r\n  <h1>{{titulo}}</h1>\r\n  <a *ngIf="identity.role == \'ROLE_ADMIN\'" class="btn btn-default" [routerLink]="[\'/crear-artista\']">\r\n  Añadir Artista\r\n  </a>\r\n  <ul class="pagination pull-right">\r\n      <li><a [routerLink]="[\'/artistas\', prev_page]">&laquo;</a></li>\r\n      <li><a [routerLink]="[\'/artistas\', next_page]">&raquo;</a></li>\r\n  </ul>\r\n</div>\r\n\r\n<div class="clearfix"></div>\r\n<ul class="artist-list" *ngIf="identity">\r\n  <li *ngFor="let artist of artists" class="col-xs-11 col-md-4 col-lg-3 artist-item">\r\n    <div class="artist-image">\r\n      <img [routerLink]="[\'/artista\', artist._id]" src="{{url + \'get-image-artist/\'+ artist.image}}" />\r\n    </div>\r\n    <div class="artist-name">\r\n      <a [routerLink]="[\'/artista\', artist._id]">\r\n          {{artist.name}}\r\n      </a>\r\n      <div class="buttons" *ngIf="identity.role == \'ROLE_ADMIN\'">\r\n        <a [routerLink]="[\'/editar-artista\', artist._id]" class="btn btn-sm btn-warning">\r\n          Editar\r\n        </a>\r\n        <a (click)="onDeleteConfirm(artist._id)" class="btn btn-sm btn-danger">\r\n          Borrar\r\n        </a>\r\n      </div>\r\n      <div class="seguro" *ngIf="confirmado == artist._id">\r\n        <a (click)="onDeleteArtist(artist._id)" class="btn btn-sm btn-danger">\r\n          Eliminar\r\n        </a>\r\n        <a (click)="onCancelArtist()" class="btn btn-sm btn-primary">\r\n          Cancelar\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </li>\r\n  <div class="clearfix"></div>\r\n</ul>\r\n'},694:function(t,e){t.exports='<div class="col-lg-8 col-lg-offset-2">\r\n  <div class="jumbotron">\r\n    <h1>Bienvenido a Musify</h1>\r\n    <p>Empieza a escuchar musica de tus artistas favoritos y descrubre nuevo hits ;D</p>\r\n    <p><a class="btn btn-primary btn-lg" [routerLink]="[\'/artistas\',1]">Ver Artistas</a></p>\r\n  </div>\r\n</div>\r\n'},695:function(t,e){t.exports='<div class="col-lg-6" *ngIf="identity">\r\n    <h1>{{titulo}}</h1>\r\n    \x3c!--Formulario--\x3e\r\n    <div *ngIf="alertMessage">\r\n      <div class="alert alert-success" role="alert" data-auto-dismiss="2000">\r\n        {{alertMessage}}\r\n      </div>\r\n    </div>\r\n    <form #userUpdateForm="ngForm" (ngSubmit)="onSubmit()" class="col-md-7">\r\n      <p>\r\n        <label>Nombre: </label>\r\n        <input type="text" #name="ngModel" name="name" [(ngModel)]="user.name" class="form-control" required />\r\n        <span *ngIf="!name.valid && name.touched">\r\n          El nombre es obligatorio!\r\n        </span>\r\n      </p>\r\n      <p>\r\n        <label>Apellido: </label>\r\n        <input type="text" #surname="ngModel" name="surname" [(ngModel)]="user.surname" class="form-control" required />\r\n        <span *ngIf="!surname.valid && surname.touched">\r\n          Los apellidos son obligatorios!\r\n        </span>\r\n      </p>\r\n      <p>\r\n      <label>Correo electronico: </label>\r\n      <input type="email" #email="ngModel" name="email" [(ngModel)]="user.email" class="form-control" required />\r\n      <span *ngIf="!email.valid && email.touched">\r\n        El email es obligatorio!\r\n      </span>\r\n    </p>\r\n    <div class="image_for_edit" *ngIf="user.image && user.image != null">\r\n        <img src="{{url+\'get-image-user/\'+user.image}}" style="width:50px"/>\r\n    </div>\r\n\r\n    <p>\r\n      <label>Sube tu foto:</label>\r\n      <input type="file" placeholder="Subir Imagen..." (change)="fileChangeEvent($event)" />\r\n    </p>\r\n      <input type="submit" value="Actualizar" class="btn btn-primary" />\r\n    </form>\r\n</div>\r\n<div class="col-lg-6 col-lg-offset" *ngIf="!identity">\r\n<h1>Acceso Denegado</h1>\r\n<p>¡No tienes los permisos necesarios para visualizar este contenido!</p>\r\n</div>\r\n'},727:function(t,e,n){t.exports=n(414)},82:function(t,e,n){"use strict";var r=n(0),i=n(79),o=n(117),a=(n.n(o),n(15));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this._http=t,this.url=a.a.url}return t.prototype.getAlbums=function(t,e){void 0===e&&(e=null);var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return null==e?this._http.get(this.url+"albums",r).map(function(t){return t.json()}):this._http.get(this.url+"albums/"+e,r).map(function(t){return t.json()})},t.prototype.getAlbum=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.get(this.url+"album/"+e,r).map(function(t){return t.json()})},t.prototype.addAlbum=function(t,e){var n=JSON.stringify(e),r=new i.c({"Content-Type":"application/json",Authorization:t});return this._http.post(this.url+"album",n,{headers:r}).map(function(t){return t.json()})},t.prototype.editAlbum=function(t,e,n){var r=JSON.stringify(n),o=new i.c({"Content-Type":"application/json",Authorization:t});return this._http.put(this.url+"album/"+e,r,{headers:o}).map(function(t){return t.json()})},t.prototype.deleteAlbum=function(t,e){var n=new i.c({"Content-Type":"application/json",Authorization:t}),r=new i.d({headers:n});return this._http.delete(this.url+"album/"+e,r).map(function(t){return t.json()})},t=s([n.i(r.p)(),l("design:paramtypes",["function"==typeof(e=void 0!==i.b&&i.b)&&e||Object])],t);var e}()}},[727]);